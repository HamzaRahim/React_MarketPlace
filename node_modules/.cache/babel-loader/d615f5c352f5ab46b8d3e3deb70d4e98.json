{"ast":null,"code":"import _asyncToGenerator from \"E:/Freaks/Nfolio-Script/Script-Files/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _jsxFileName = \"E:\\\\Freaks\\\\Nfolio-Script\\\\Script-Files\\\\src\\\\App.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"E:\\\\Freaks\\\\Nfolio-Script\\\\Script-Files\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport React, { useEffect, useContext } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Switch, Route } from \"react-router-dom\";\nimport web3 from './connection/web3';\nimport Web3Context from './store/web3-context';\nimport CollectionContext from './store/collection-context';\nimport MarketplaceContext from './store/marketplace-context';\nimport NFTCollection from './abis/NFTCollection.json';\nimport NFTMarketplace from './abis/NFTMarketplace.json';\nimport ClaimFunds from \"./components/ClaimFunds\";\nimport MsgAlert from \"./components/MsgAlert\";\nimport Aos from 'aos';\nimport { ExploreNFTs, MyAssets, MainFaq, MintNFT, Home, ItemDetails, CategoryName } from './pages';\nimport { iconsGift } from \"./utils/allImgs\";\nimport Head from \"./layouts/Head\";\nimport 'aos/dist/aos.css';\nimport './assets/css/bootstrap.min.css'; // import './assets/css/main.css'\n\nimport \"./assets/css/style.css\";\nimport { loader } from \"./utils\";\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar App = function App() {\n  _s();\n\n  useEffect(function () {\n    Aos.init({\n      duration: 1000\n    });\n  }, []);\n  useEffect(function () {\n    loader();\n  }, []);\n  var web3Ctx = useContext(Web3Context);\n  var collectionCtx = useContext(CollectionContext);\n  var marketplaceCtx = useContext(MarketplaceContext);\n  useEffect(function () {\n    // Check if the user has Metamask active\n    if (!web3) {\n      window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!');\n      return;\n    } // Function to fetch all the blockchain data\n\n\n    var loadBlockchainData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var account, networkId, nftDeployedNetwork, nftContract, mktDeployedNetwork, mktContract, totalSupply, offerCount;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return window.ethereum.request({\n                  method: 'eth_requestAccounts'\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(_context.t0);\n\n              case 8:\n                _context.next = 10;\n                return web3Ctx.loadAccount(web3);\n\n              case 10:\n                account = _context.sent;\n                _context.next = 13;\n                return web3Ctx.loadNetworkId(web3);\n\n              case 13:\n                networkId = _context.sent;\n                // Load Contracts      \n                nftDeployedNetwork = NFTCollection.networks[networkId];\n                nftContract = collectionCtx.loadContract(web3, NFTCollection, nftDeployedNetwork);\n                mktDeployedNetwork = NFTMarketplace.networks[networkId];\n                mktContract = marketplaceCtx.loadContract(web3, NFTMarketplace, mktDeployedNetwork);\n\n                if (!nftContract) {\n                  _context.next = 26;\n                  break;\n                }\n\n                _context.next = 21;\n                return collectionCtx.loadTotalSupply(nftContract);\n\n              case 21:\n                totalSupply = _context.sent;\n                // Load Collection\n                collectionCtx.loadCollection(nftContract, totalSupply); // Event subscription\n\n                nftContract.events.Transfer().on('data', function (event) {\n                  collectionCtx.updateCollection(nftContract, event.returnValues.tokenId, event.returnValues.to);\n                  collectionCtx.setNftIsLoading(false);\n                }).on('error', function (error) {\n                  console.log(error);\n                });\n                _context.next = 28;\n                break;\n\n              case 26:\n                document.getElementById(\"root\").style.position = \"relative\";\n                return _context.abrupt(\"return\", /*#__PURE__*/_jsxDEV(MsgAlert, {\n                  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at dictum risus, non suscipit arcu. Quisque aliquam posuere tortor, sit amet convallis nunc in.\",\n                  title: \"You Don't Own Any NFTs Yet!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 16\n                }, _this));\n\n              case 28:\n                if (!mktContract) {\n                  _context.next = 39;\n                  break;\n                }\n\n                _context.next = 31;\n                return marketplaceCtx.loadOfferCount(mktContract);\n\n              case 31:\n                offerCount = _context.sent;\n                // Load offers\n                marketplaceCtx.loadOffers(mktContract, offerCount); // Load User Funds\n\n                account && marketplaceCtx.loadUserFunds(mktContract, account); // Event OfferFilled subscription \n\n                mktContract.events.OfferFilled().on('data', function (event) {\n                  marketplaceCtx.updateOffer(event.returnValues.offerId);\n                  collectionCtx.updateOwner(event.returnValues.id, event.returnValues.newOwner);\n                  marketplaceCtx.setMktIsLoading(false);\n                }).on('error', function (error) {\n                  console.log(error);\n                }); // Event Offer subscription \n\n                mktContract.events.Offer().on('data', function (event) {\n                  marketplaceCtx.addOffer(event.returnValues);\n                  marketplaceCtx.setMktIsLoading(false);\n                }).on('error', function (error) {\n                  console.log(error);\n                }); // Event offerCancelled subscription \n\n                mktContract.events.OfferCancelled().on('data', function (event) {\n                  marketplaceCtx.updateOffer(event.returnValues.offerId);\n                  collectionCtx.updateOwner(event.returnValues.id, event.returnValues.owner);\n                  marketplaceCtx.setMktIsLoading(false);\n                }).on('error', function (error) {\n                  console.log(error);\n                });\n                _context.next = 41;\n                break;\n\n              case 39:\n                document.getElementById(\"root\").style.position = \"relative\";\n                return _context.abrupt(\"return\", /*#__PURE__*/_jsxDEV(MsgAlert, {\n                  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at dictum risus, non suscipit arcu. Quisque aliquam posuere tortor, sit amet convallis nunc in.\",\n                  title: \"You Don't Own Any NFTs Yet!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 16\n                }, _this));\n\n              case 41:\n                collectionCtx.setNftIsLoading(false);\n                marketplaceCtx.setMktIsLoading(false); // Metamask Event Subscription - Account changed\n\n                window.ethereum.on('accountsChanged', function (accounts) {\n                  web3Ctx.loadAccount(web3);\n                  accounts[0] && marketplaceCtx.loadUserFunds(mktContract, accounts[0]);\n                }); // Metamask Event Subscription - Network changed\n\n                window.ethereum.on('chainChanged', function (chainId) {\n                  window.location.reload();\n                });\n\n              case 45:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 5]]);\n      }));\n\n      return function loadBlockchainData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    loadBlockchainData();\n  }, []);\n  var showHead = web3 && collectionCtx.contract && marketplaceCtx.contract;\n  useEffect(function () {\n    if (!showHead) {\n      document.getElementById(\"root\").style.position = \"relative\";\n    } else {\n      document.getElementById(\"root\").style.position = \"\";\n    }\n  }, [showHead]);\n  useEffect(function () {\n    document.querySelector(\"body\").classList.add(\"light-version\");\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n        charset: \"utf-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1, shrink-to-fit=no\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"NFT Marketplace\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"link\", {\n        href: \"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700\",\n        rel: \"stylesheet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"stylesheet\",\n        type: \"text/css\",\n        href: \"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"preloader\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preload-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"dream-load\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(Head, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"showHead \".concat(!showHead && \"hideFormMint\"),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"MsgAlert_showHead\",\n          children: !showHead && /*#__PURE__*/_jsxDEV(MsgAlert, {\n            text: \"The Smart Contract is not Deployed to the Detected Network, Please set your Metamask Wallet to Reposten Network and Reload the page\",\n            title: \"Contract is not deployed to detected network.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 29\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false), marketplaceCtx.userFunds > 0 && /*#__PURE__*/_jsxDEV(ClaimFunds, {\n      img: iconsGift\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 42\n    }, _this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        exact: true,\n        component: Home\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/explore\",\n        component: ExploreNFTs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/my-assets\",\n        component: MyAssets\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/faq\",\n        component: MainFaq\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/mint\",\n        component: MintNFT\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/item-details/:id\",\n        component: ItemDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/category-name/:categ\",\n        component: CategoryName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 6\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 6\n  }, _this);\n};\n\n_s(App, \"i6Mz8JaaqWOQpEQ2UBHJRYrtqX4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/Freaks/Nfolio-Script/Script-Files/src/App.jsx"],"names":["React","useEffect","useContext","Helmet","Switch","Route","web3","Web3Context","CollectionContext","MarketplaceContext","NFTCollection","NFTMarketplace","ClaimFunds","MsgAlert","Aos","ExploreNFTs","MyAssets","MainFaq","MintNFT","Home","ItemDetails","CategoryName","iconsGift","Head","loader","App","init","duration","web3Ctx","collectionCtx","marketplaceCtx","window","alert","loadBlockchainData","ethereum","request","method","console","error","loadAccount","account","loadNetworkId","networkId","nftDeployedNetwork","networks","nftContract","loadContract","mktDeployedNetwork","mktContract","loadTotalSupply","totalSupply","loadCollection","events","Transfer","on","event","updateCollection","returnValues","tokenId","to","setNftIsLoading","log","document","getElementById","style","position","loadOfferCount","offerCount","loadOffers","loadUserFunds","OfferFilled","updateOffer","offerId","updateOwner","id","newOwner","setMktIsLoading","Offer","addOffer","OfferCancelled","owner","accounts","chainId","location","reload","showHead","contract","querySelector","classList","add","userFunds"],"mappings":"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","sourcesContent":["import React , { useEffect , useContext } from \"react\";\nimport {Helmet} from \"react-helmet\";\nimport { Switch, Route } from \"react-router-dom\";\nimport web3 from './connection/web3';\nimport Web3Context from './store/web3-context';\nimport CollectionContext from './store/collection-context';\nimport MarketplaceContext from './store/marketplace-context'\nimport NFTCollection from './abis/NFTCollection.json';\nimport NFTMarketplace from './abis/NFTMarketplace.json';\nimport ClaimFunds from \"./components/ClaimFunds\"\nimport MsgAlert from \"./components/MsgAlert\"\nimport Aos from 'aos'\nimport {\n    ExploreNFTs,\n    MyAssets,\n    MainFaq,\n    MintNFT,\n    Home,\n    ItemDetails,\n    CategoryName\n} from './pages'\nimport {\n  iconsGift\n} from \"./utils/allImgs\"\n\nimport Head from \"./layouts/Head\"\nimport 'aos/dist/aos.css';\nimport './assets/css/bootstrap.min.css'\n// import './assets/css/main.css'\nimport \"./assets/css/style.css\"\nimport {loader} from \"./utils\"\n\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n\nconst App = () => {\n\n  useEffect(() => {\n    Aos.init({\n      duration: 1000\n      })\n  },[])\n \n  useEffect(() => {\n    loader()\n  },[])\n\n\n  const web3Ctx = useContext(Web3Context);\n  const collectionCtx = useContext(CollectionContext);\n  const marketplaceCtx = useContext(MarketplaceContext);\n\n  useEffect(() => {\n    // Check if the user has Metamask active\n    if(!web3) {\n      window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!');\n      return;\n    }\n    \n    // Function to fetch all the blockchain data\n    const loadBlockchainData = async() => {\n      // Request accounts acccess if needed\n      try {\n        await window.ethereum.request({ method: 'eth_requestAccounts' });  \n      } catch(error) {\n        console.error(error);\n      }\n      \n      // Load account\n      const account = await web3Ctx.loadAccount(web3);\n\n      // Load Network ID\n      const networkId = await web3Ctx.loadNetworkId(web3);\n\n      // Load Contracts      \n      const nftDeployedNetwork = NFTCollection.networks[networkId];\n      const nftContract = collectionCtx.loadContract(web3, NFTCollection, nftDeployedNetwork);\n\n      const mktDeployedNetwork = NFTMarketplace.networks[networkId];\n      const mktContract = marketplaceCtx.loadContract(web3, NFTMarketplace, mktDeployedNetwork);\n\n      if(nftContract) {        \n        // Load total Supply\n        const totalSupply = await collectionCtx.loadTotalSupply(nftContract);\n        \n        // Load Collection\n        collectionCtx.loadCollection(nftContract, totalSupply);       \n\n        // Event subscription\n        nftContract.events.Transfer()\n        .on('data', (event) => {\n          collectionCtx.updateCollection(nftContract, event.returnValues.tokenId, event.returnValues.to);\n          collectionCtx.setNftIsLoading(false);\n        })\n        .on('error', (error) => {\n          console.log(error);\n        });\n        \n      } else {\n        document.getElementById(\"root\").style.position = \"relative\"\n        return <MsgAlert\n                text=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at dictum risus, non suscipit arcu. Quisque aliquam posuere tortor, sit amet convallis nunc in.\"\n                title=\"You Don't Own Any NFTs Yet!\" />\n      }\n\n      if(mktContract) {\n        // Load offer count\n        const offerCount = await marketplaceCtx.loadOfferCount(mktContract);\n        \n        // Load offers\n        marketplaceCtx.loadOffers(mktContract, offerCount); \n        \n        // Load User Funds\n        account && marketplaceCtx.loadUserFunds(mktContract, account);\n\n        // Event OfferFilled subscription \n        mktContract.events.OfferFilled()\n        .on('data', (event) => {\n          marketplaceCtx.updateOffer(event.returnValues.offerId);\n          collectionCtx.updateOwner(event.returnValues.id, event.returnValues.newOwner);\n          marketplaceCtx.setMktIsLoading(false);\n        })\n        .on('error', (error) => {\n          console.log(error);\n        });\n\n        // Event Offer subscription \n        mktContract.events.Offer()\n        .on('data', (event) => {\n          marketplaceCtx.addOffer(event.returnValues);\n          marketplaceCtx.setMktIsLoading(false);\n        })\n        .on('error', (error) => {\n          console.log(error);\n        });\n\n        // Event offerCancelled subscription \n        mktContract.events.OfferCancelled()\n        .on('data', (event) => {\n          marketplaceCtx.updateOffer(event.returnValues.offerId);\n          collectionCtx.updateOwner(event.returnValues.id, event.returnValues.owner);\n          marketplaceCtx.setMktIsLoading(false);\n        })\n        .on('error', (error) => {\n          console.log(error);\n        });\n        \n      } else {\n        document.getElementById(\"root\").style.position = \"relative\"\n        return <MsgAlert\n                text=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at dictum risus, non suscipit arcu. Quisque aliquam posuere tortor, sit amet convallis nunc in.\"\n                title=\"You Don't Own Any NFTs Yet!\" />\n      }\n\n      collectionCtx.setNftIsLoading(false);\n      marketplaceCtx.setMktIsLoading(false);\n\n      // Metamask Event Subscription - Account changed\n      window.ethereum.on('accountsChanged', (accounts) => {\n        web3Ctx.loadAccount(web3);\n        accounts[0] && marketplaceCtx.loadUserFunds(mktContract, accounts[0]);\n      });\n\n      // Metamask Event Subscription - Network changed\n      window.ethereum.on('chainChanged', (chainId) => {\n        window.location.reload();\n      });\n    };\n    \n    loadBlockchainData();\n  }, []);\n\n  const showHead = web3 && collectionCtx.contract && marketplaceCtx.contract;\n  \n  useEffect(() => {\n    if(!showHead) {\n      document.getElementById(\"root\").style.position = \"relative\"\n    }else{\n      document.getElementById(\"root\").style.position = \"\"\n    }\n\n  },[showHead])\n\n  useEffect(() => {\n    document.querySelector(\"body\").classList.add(\"light-version\")\n  },[])\n\n  return (\n    \n    \t<div className=\"App\">\n        <Helmet>\n          <meta charset=\"utf-8\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\n          <title>\n            NFT Marketplace\n          </title>\n          <link href=\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700\" rel=\"stylesheet\" />\n          <link rel=\"stylesheet\" type=\"text/css\" href=\"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" />\n        </Helmet>\n        <div id=\"preloader\">\n          <div className=\"preload-content\">\n              <div id=\"dream-load\"></div>\n          </div>\n        </div>\n        <Head />\n        <>\n          <div className={`showHead ${!showHead && \"hideFormMint\"}`}>\n            <div className=\"MsgAlert_showHead\">\n              {!showHead && <MsgAlert \n                text=\"The Smart Contract is not Deployed to the Detected Network, Please set your Metamask Wallet to Reposten Network and Reload the page\"\n                title=\"Contract is not deployed to detected network.\" /> }\n            </div>\n          </div>\n        </>\n        {marketplaceCtx.userFunds > 0 && <ClaimFunds img={iconsGift} />}\n  \t\t\t<Switch>\n          <Route path=\"/\" exact component={Home} />\n  \t\t\t\t<Route path=\"/explore\" component={ExploreNFTs} />\n  \t\t\t\t<Route path=\"/my-assets\" component={MyAssets} />\n          <Route path=\"/faq\" component={MainFaq} />\n          <Route path=\"/mint\" component={MintNFT} />\n          <Route path=\"/item-details/:id\" component={ItemDetails} />\n  \t\t\t\t<Route path=\"/category-name/:categ\" component={CategoryName} />\n  \t\t\t</Switch>\n\t    </div>\n    \t\n    \n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}
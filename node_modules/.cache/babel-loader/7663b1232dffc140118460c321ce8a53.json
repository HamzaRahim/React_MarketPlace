{"ast":null,"code":"import _slicedToArray from \"E:/Freaks/Nfolio-Script/Script-Files/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"E:\\\\Freaks\\\\Nfolio-Script\\\\Script-Files\\\\src\\\\components\\\\ClaimFunds\\\\index.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from \"react\";\nimport { formatPrice } from '../../utils';\nimport Web3Context from '../../store/web3-context';\nimport MarketplaceContext from '../../store/marketplace-context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ClaimFunds = function ClaimFunds(_ref) {\n  _s();\n\n  var img = _ref.img;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      fundsLoading = _useState2[0],\n      setFundsLoading = _useState2[1];\n\n  var web3Ctx = useContext(Web3Context);\n  var marketplaceCtx = useContext(MarketplaceContext);\n\n  var claimFundsHandler = function claimFundsHandler(e) {\n    e.preventDefault();\n    marketplaceCtx.contract.methods.claimFunds().send({\n      from: web3Ctx.account\n    }).on('transactionHash', function (hash) {\n      setFundsLoading(true);\n    }).on('error', function (error) {\n      window.alert('Something went wrong when pushing to the blockchain');\n      marketplaceCtx === null || marketplaceCtx === void 0 ? void 0 : marketplaceCtx.setMktIsLoading(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"team-item hovered d-feature-box active-shape claim-funds\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: img,\n        alt: \"icon\",\n        width: \"100\",\n        className: \"img-fluid mb-0 mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 15\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"item-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"gradient-text\",\n        children: \"Claim Your Funds\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-light\",\n        children: \"Congrats, You Made A Sale.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, _this), marketplaceCtx.userFunds > 0 && !fundsLoading && /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/#\",\n        onClick: function onClick(e) {\n          return claimFundsHandler(e);\n        },\n        className: \"readon white-btn hover-shape VIEW_Projects_Btn mt-15\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"btn btn-warning gradient-text\",\n          children: \"CLAIM \".concat(formatPrice(marketplaceCtx.userFunds), \" ETH\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 7\n  }, _this);\n};\n\n_s(ClaimFunds, \"e9sGCpi2TTE3DJ+5lbl3YjHi1Aw=\");\n\n_c = ClaimFunds;\nexport default ClaimFunds;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimFunds\");","map":{"version":3,"sources":["E:/Freaks/Nfolio-Script/Script-Files/src/components/ClaimFunds/index.jsx"],"names":["useState","useContext","formatPrice","Web3Context","MarketplaceContext","ClaimFunds","img","fundsLoading","setFundsLoading","web3Ctx","marketplaceCtx","claimFundsHandler","e","preventDefault","contract","methods","claimFunds","send","from","account","on","hash","error","window","alert","setMktIsLoading","userFunds"],"mappings":";;;;;;AAAA,SAAQA,QAAR,EAAmBC,UAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,kBAAP,MAA+B,iCAA/B;;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAW;AAAA;;AAAA,MAATC,GAAS,QAATA,GAAS;;AAE5B,kBAAwCN,QAAQ,CAAC,KAAD,CAAhD;AAAA;AAAA,MAAOO,YAAP;AAAA,MAAqBC,eAArB;;AACA,MAAMC,OAAO,GAAGR,UAAU,CAACE,WAAD,CAA1B;AACA,MAAMO,cAAc,GAAGT,UAAU,CAACG,kBAAD,CAAjC;;AAEA,MAAMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,CAAD,EAAO;AAC/BA,IAAAA,CAAC,CAACC,cAAF;AACAH,IAAAA,cAAc,CAACI,QAAf,CAAwBC,OAAxB,CAAgCC,UAAhC,GAA6CC,IAA7C,CAAkD;AAAEC,MAAAA,IAAI,EAAET,OAAO,CAACU;AAAhB,KAAlD,EACCC,EADD,CACI,iBADJ,EACuB,UAACC,IAAD,EAAU;AAC/Bb,MAAAA,eAAe,CAAC,IAAD,CAAf;AACD,KAHD,EAICY,EAJD,CAII,OAJJ,EAIa,UAACE,KAAD,EAAW;AACtBC,MAAAA,MAAM,CAACC,KAAP,CAAa,qDAAb;AACAd,MAAAA,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEe,eAAhB,CAAgC,KAAhC;AACD,KAPD;AAQD,GAVD;;AAYA,sBACI;AAAK,IAAA,SAAS,EAAC,0DAAf;AAAA,4BACE;AAAA,6BAAM;AAAK,QAAA,GAAG,EAAEnB,GAAV;AAAe,QAAA,GAAG,EAAC,MAAnB;AAA0B,QAAA,KAAK,EAAC,KAAhC;AAAsC,QAAA,SAAS,EAAC;AAAhD;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,EAGGI,cAAc,CAACgB,SAAf,GAA2B,CAA3B,IAAgC,CAACnB,YAAjC,iBACC;AAAG,QAAA,IAAI,EAAC,IAAR;AAAa,QAAA,OAAO,EAAE,iBAACK,CAAD;AAAA,iBAAOD,iBAAiB,CAACC,CAAD,CAAxB;AAAA,SAAtB;AAAmD,QAAA,SAAS,EAAC,sDAA7D;AAAA,+BACE;AAAM,UAAA,SAAS,EAAC,+BAAhB;AAAA,oCAA0DV,WAAW,CAACQ,cAAc,CAACgB,SAAhB,CAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,eAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ;AAeD,CAjCD;;GAAMrB,U;;KAAAA,U;AAmCN,eAAeA,UAAf","sourcesContent":["import {useState , useContext} from \"react\"\nimport { formatPrice } from '../../utils';\nimport Web3Context from '../../store/web3-context';\nimport MarketplaceContext from '../../store/marketplace-context'\n\nconst ClaimFunds = ({img}) => {\n\n  const [fundsLoading, setFundsLoading] = useState(false);\n  const web3Ctx = useContext(Web3Context);\n  const marketplaceCtx = useContext(MarketplaceContext);\n\n  const claimFundsHandler = (e) => {\n    e.preventDefault();\n    marketplaceCtx.contract.methods.claimFunds().send({ from: web3Ctx.account })\n    .on('transactionHash', (hash) => {\n      setFundsLoading(true);\n    })\n    .on('error', (error) => {\n      window.alert('Something went wrong when pushing to the blockchain');\n      marketplaceCtx?.setMktIsLoading(false);\n    });\n  };\n\n  return (\n      <div className=\"team-item hovered d-feature-box active-shape claim-funds\">\n        <span><img src={img} alt=\"icon\" width=\"100\" className=\"img-fluid mb-0 mr-2\" /></span>\n        <div className=\"item-info\">\n          <h5 className=\"gradient-text\">Claim Your Funds</h5>\n          <p className=\"text-light\">Congrats, You Made A Sale.</p>\n          {marketplaceCtx.userFunds > 0 && !fundsLoading && (\n            <a href=\"/#\" onClick={(e) => claimFundsHandler(e)} className=\"readon white-btn hover-shape VIEW_Projects_Btn mt-15\">\n              <span className=\"btn btn-warning gradient-text\">{`CLAIM ${formatPrice(marketplaceCtx.userFunds)} ETH`}</span>\n            </a>\n          )}\n        </div>\n      </div>\n\n  );\n}\n\nexport default ClaimFunds;"]},"metadata":{},"sourceType":"module"}
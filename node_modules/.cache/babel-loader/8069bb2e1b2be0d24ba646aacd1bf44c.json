{"ast":null,"code":"import _asyncToGenerator from \"E:/Freaks/Nfolio-Script/Script-Files/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"E:/Freaks/Nfolio-Script/Script-Files/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"E:\\\\Freaks\\\\Nfolio-Script\\\\Script-Files\\\\src\\\\containers\\\\MyAssets\\\\index.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"E:\\\\Freaks\\\\Nfolio-Script\\\\Script-Files\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport { useState, useContext, useEffect, useRef, createRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport MarketplaceContext from '../../store/marketplace-context';\nimport { formatPrice, cutAddress, makeOfferHandler, buyHandler as _buyHandler, cancelHandler } from \"../../utils\";\nimport PreloaderMintItem from \"../../components/PreloaderMintItem\";\nimport ItemsNotFound from \"../../components/ItemsNotFound\";\nimport web3 from '../../connection/web3';\nimport Web3Context from '../../store/web3-context';\nimport OperSec from \"../../components/OperSec\";\nimport Img from \"../../components/Img\";\nimport SecHead from \"../../components/SecHead\";\nimport { explore5, iconsH1, iconsH2 } from \"../../utils/allImgs\";\nimport SEO from \"../../components/Seo\";\nimport CollectionContext from '../../store/collection-context';\nimport Footer from \"../../layouts/Footer\";\nimport MsgAlert from \"../../components/MsgAlert\";\nimport Breadcumb from '../../components/Breadcumb';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar MyAssetsContainer = function MyAssetsContainer() {\n  _s();\n\n  var collectionCtx = useContext(CollectionContext);\n  var marketplaceCtx = useContext(MarketplaceContext);\n  var web3Ctx = useContext(Web3Context);\n\n  var _useState = useState(collectionCtx.collection),\n      _useState2 = _slicedToArray(_useState, 2),\n      collection = _useState2[0],\n      setCollection = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isHaveItems = _useState4[0],\n      setIsHaveItems = _useState4[1];\n\n  var _useState5 = useState(web3Ctx.account),\n      _useState6 = _slicedToArray(_useState5, 2),\n      account = _useState6[0],\n      setAccount = _useState6[1];\n\n  useEffect(function () {\n    var hanldeCollection = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var items;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return collectionCtx.collection;\n\n              case 2:\n                items = _context.sent;\n                setCollection(items);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function hanldeCollection() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    hanldeCollection();\n  }, [collectionCtx.collection, account]);\n  useEffect(function () {\n    var handleAccount = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return setAccount(web3Ctx.account);\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function handleAccount() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    handleAccount();\n  }, [web3Ctx.account]);\n  useEffect(function () {\n    collectionCtx.collection.every(function (currentValue) {\n      return currentValue.addressOwner !== account;\n    }) ? setIsHaveItems(false) : setIsHaveItems(true);\n  }, [collection, account, collectionCtx.collection]);\n  var priceRefs = useRef([]);\n\n  if (priceRefs.current.length !== collectionCtx.collection.length) {\n    priceRefs.current = Array(collectionCtx.collection.length).fill().map(function (_, i) {\n      return priceRefs.current[i] || /*#__PURE__*/createRef();\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SEO, {\n      title: \"My assets\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Breadcumb, {\n      title: \"My Assets\",\n      subTitle: \"My Assets\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"nft-section section-padding-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container about-box bg-3 br-50 about-before v2\",\n        children: [/*#__PURE__*/_jsxDEV(SecHead, {\n          titleClass: \"v2\",\n          title: \"MY Owned NFTs\",\n          SubTitleClass: \"text-dark\",\n          textClass: \"text-secondary\",\n          SubTitle: \"My NFT Assets\",\n          text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quis accumsan nisi Ut ut felis congue nisl hendrerit commodo.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          id: \"myTabContent\",\n          children: collectionCtx.collection.length !== 0 ? !marketplaceCtx.mktIsLoading ? isHaveItems ? collection.slice(0, 3).map(function (item, key) {\n            var setAddressOwner = cutAddress(item.addressOwner);\n            var index = marketplaceCtx.offers ? marketplaceCtx.offers.findIndex(function (offer) {\n              return offer.id === item.id;\n            }) : -1;\n            var price = index !== -1 ? formatPrice(marketplaceCtx.offers[index].price).toFixed(2) : null;\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: item.addressOwner === account ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12 col-sm-6 col-lg-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"nft-item \",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"nft-cat\",\n                    children: item.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/item-details/\".concat(item.id),\n                    className: \"image-wrapper\",\n                    children: item.img ? /*#__PURE__*/_jsxDEV(Img, {\n                      img: \"https://ipfs.infura.io/ipfs/\".concat(item.img)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 41\n                    }, _this) : /*#__PURE__*/_jsxDEV(Img, {\n                      img: explore5\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 99\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"nft-title\",\n                    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: item.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 29\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"nft-price\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"inner-price d-flex align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(Img, {\n                        img: iconsH1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 35\n                      }, _this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                        children: [\"Owner : \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"gradient-text\",\n                          children: setAddressOwner\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 101,\n                          columnNumber: 47\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 35\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 31\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"nft-price\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"inner-price d-flex align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(Img, {\n                        img: iconsH2\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 35\n                      }, _this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                        children: [\"Price : \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"gradient-text\",\n                          children: [price, \" ETH\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 108,\n                          columnNumber: 47\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 108,\n                        columnNumber: 35\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 31\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 27\n                  }, _this), index !== -1 ? item.addressOwner !== account ? /*#__PURE__*/_jsxDEV(OperSec, {\n                    price: price,\n                    index: index,\n                    buyHandler: function buyHandler(event) {\n                      return _buyHandler(event, marketplaceCtx, account);\n                    },\n                    nameOper: \"Buy Item\",\n                    ClassBtn: \"btn dream-btn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 31\n                  }, _this) : /*#__PURE__*/_jsxDEV(OperSec, {\n                    price: price,\n                    index: index,\n                    buyHandler: function buyHandler(event) {\n                      return cancelHandler(event, marketplaceCtx, account);\n                    },\n                    ClassBtn: \" readon w-100 hover-shape VIEW_Projects_Btn buttonWrapperPaddCANCEL bg-danger border border-danger\",\n                    nameOper: \"CANCEL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 31\n                  }, _this) : item.addressOwner === account ? /*#__PURE__*/_jsxDEV(\"form\", {\n                    className: \"row card__info card__infoPadd\",\n                    onSubmit: function onSubmit(e) {\n                      return makeOfferHandler(e, item.id, key, web3, priceRefs, account, marketplaceCtx, collectionCtx);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-5 d-grid gap-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"btn card__infoForm-control\",\n                        children: \"OFFER\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 35\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 33\n                    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-7\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        step: \"0.01\",\n                        placeholder: \"ETH...\",\n                        className: \"form-control w-48p\",\n                        ref: priceRefs.current[key]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 35\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 33\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 31\n                  }, _this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"waver_wrapper\",\n                    children: \"Owner does not put a price!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 29\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, _this) : /*#__PURE__*/_jsxDEV(ItemsNotFound, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 21\n              }, _this)\n            }, void 0, false);\n          }) : /*#__PURE__*/_jsxDEV(MsgAlert, {\n            title: \"No Items Listed for Sale\",\n            text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at dictum risus, non suscipit arcu. Quisque aliquam posuere tortor, sit amet convallis nunc in.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 21\n          }, _this) : Array(8).fill().map(function (_i, key) {\n            return /*#__PURE__*/_jsxDEV(PreloaderMintItem, {}, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 59\n            }, _this);\n          }) : /*#__PURE__*/_jsxDEV(MsgAlert, {\n            text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at dictum risus, non suscipit arcu. Quisque aliquam posuere tortor, sit amet convallis nunc in.\",\n            title: \"You Don't Own Any NFTs Yet!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 94\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(MyAssetsContainer, \"FOvdBQVLWjYc3MI35G3znE06HEk=\");\n\n_c = MyAssetsContainer;\nexport default MyAssetsContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyAssetsContainer\");","map":{"version":3,"sources":["E:/Freaks/Nfolio-Script/Script-Files/src/containers/MyAssets/index.jsx"],"names":["useState","useContext","useEffect","useRef","createRef","Link","MarketplaceContext","formatPrice","cutAddress","makeOfferHandler","buyHandler","cancelHandler","PreloaderMintItem","ItemsNotFound","web3","Web3Context","OperSec","Img","SecHead","explore5","iconsH1","iconsH2","SEO","CollectionContext","Footer","MsgAlert","Breadcumb","MyAssetsContainer","collectionCtx","marketplaceCtx","web3Ctx","collection","setCollection","isHaveItems","setIsHaveItems","account","setAccount","hanldeCollection","items","handleAccount","every","currentValue","addressOwner","priceRefs","current","length","Array","fill","map","_","i","mktIsLoading","slice","item","key","setAddressOwner","index","offers","findIndex","offer","id","price","toFixed","category","img","title","event","e","_i"],"mappings":"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","sourcesContent":["import {useState , useContext , useEffect , useRef , createRef} from \"react\"\nimport { Link } from \"react-router-dom\";\nimport MarketplaceContext from '../../store/marketplace-context';\nimport {formatPrice , cutAddress , makeOfferHandler , buyHandler , cancelHandler} from \"../../utils\"\nimport PreloaderMintItem from \"../../components/PreloaderMintItem\"\nimport ItemsNotFound from \"../../components/ItemsNotFound\"\nimport web3 from '../../connection/web3';\nimport Web3Context from '../../store/web3-context';\nimport OperSec from \"../../components/OperSec\"\nimport Img from \"../../components/Img\"\nimport SecHead from \"../../components/SecHead\"\nimport {\n  explore5,\n  iconsH1,\n  iconsH2\n} from \"../../utils/allImgs\"\nimport SEO from \"../../components/Seo\"\nimport CollectionContext from '../../store/collection-context';\nimport Footer from \"../../layouts/Footer\"\nimport MsgAlert from \"../../components/MsgAlert\"\nimport Breadcumb from '../../components/Breadcumb'\n\n\nconst MyAssetsContainer = () => {\n\n  const collectionCtx = useContext(CollectionContext);\n  const marketplaceCtx = useContext(MarketplaceContext);\n  const web3Ctx = useContext(Web3Context);\n\n  const [collection , setCollection] = useState(collectionCtx.collection)\n  const [isHaveItems , setIsHaveItems] = useState(true)\n  const [account , setAccount] = useState(web3Ctx.account)\n  \n  useEffect(() => {\n    const hanldeCollection = async () => {\n      let items = await collectionCtx.collection\n      setCollection(items)\n    }\n    hanldeCollection()\n  },[collectionCtx.collection , account])\n\n  useEffect(() => {\n    const handleAccount = async ()=>{\n      await setAccount(web3Ctx.account)\n    }\n    handleAccount()\n  },[web3Ctx.account])\n\n  useEffect(() => {\n    collectionCtx.collection.every((currentValue) => currentValue.addressOwner !== account) ? setIsHaveItems(false) : setIsHaveItems(true)\n  },[collection , account , collectionCtx.collection])\n\n  const priceRefs = useRef([]);\n  if (priceRefs.current.length !== collectionCtx.collection.length) {\n    priceRefs.current = Array(collectionCtx.collection.length).fill().map((_, i) => priceRefs.current[i] || createRef());\n  }\n\n  return (\n    <>\n      <SEO title=\"My assets\" />\n      <Breadcumb\n        title=\"My Assets\"\n        subTitle=\"My Assets\"\n      />\n      <section className=\"nft-section section-padding-100\">\n        <div className=\"container about-box bg-3 br-50 about-before v2\">\n          \n          <SecHead\n            titleClass=\"v2\"\n            title=\"MY Owned NFTs\"\n            SubTitleClass=\"text-dark\"\n            textClass=\"text-secondary\"\n            SubTitle=\"My NFT Assets\"\n            text=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quis accumsan nisi Ut ut felis congue nisl hendrerit commodo.\"\n          />\n\n          <div className=\"row\" id=\"myTabContent\">\n\n          {collectionCtx.collection.length !== 0 ? !marketplaceCtx.mktIsLoading ? isHaveItems ? collection.slice(0,3).map((item , key) => {\n            let setAddressOwner = cutAddress(item.addressOwner)\n            const index = marketplaceCtx.offers ? marketplaceCtx.offers.findIndex(offer => offer.id === item.id) : -1;\n            const price = index !== -1 ? formatPrice(marketplaceCtx.offers[index].price).toFixed(2) : null;\n              return(\n                <>\n                  {item.addressOwner === account ?\n                    <div className=\"col-12 col-sm-6 col-lg-3\">\n                      \n                      \n                        <div className=\"nft-item \">\n                          <div className=\"nft-cat\">{item.category}</div>\n                          <Link to={`/item-details/${item.id}`} className=\"image-wrapper\">\n                            {item.img ? <Img img={`https://ipfs.infura.io/ipfs/${item.img}`} /> : <Img img={explore5} />}\n                          </Link>\n                          <div className=\"nft-title\">\n                            <h4>{item.title}</h4>\n                          </div>\n                          \n                          <div className=\"nft-price\">\n                              <div className=\"inner-price d-flex align-items-center\">\n                                  <Img img={iconsH1} />\n                                  <h5>Owner : <span className=\"gradient-text\">{setAddressOwner}</span></h5>\n                              </div>\n                          </div>\n\n                          <div className=\"nft-price\">\n                              <div className=\"inner-price d-flex align-items-center\">\n                                  <Img img={iconsH2} />\n                                  <h5>Price : <span className=\"gradient-text\">{price} ETH</span></h5>\n                              </div>\n                          </div>\n\n                          {index !== -1 ?\n                            item.addressOwner !== account ?\n                              <OperSec\n                                price={price}\n                                index={index}\n                                buyHandler={(event) => buyHandler(event , marketplaceCtx , account)}\n                                nameOper=\"Buy Item\"\n                                ClassBtn=\"btn dream-btn\"\n                              />\n                              :\n                              <OperSec\n                                price={price}\n                                index={index}\n                                buyHandler={(event) => cancelHandler(event , marketplaceCtx , account)}\n                                ClassBtn=\" readon w-100 hover-shape VIEW_Projects_Btn buttonWrapperPaddCANCEL bg-danger border border-danger\"\n                                nameOper=\"CANCEL\"\n                              />\n                              :\n                            item.addressOwner === account ? (\n                              <form className=\"row card__info card__infoPadd\" onSubmit={(e) => makeOfferHandler(e, item.id, key , web3 , priceRefs , account , marketplaceCtx , collectionCtx)}>\n                                <div className=\"col-5 d-grid gap-2\">\n                                  <button type=\"submit\" className=\"btn card__infoForm-control\">OFFER</button>\n                                </div>\n                                <div className=\"col-7\">\n                                  <input\n                                    type=\"number\"\n                                    step=\"0.01\"\n                                    placeholder=\"ETH...\"\n                                    className=\"form-control w-48p\"\n                                    ref={priceRefs.current[key]}\n                                  />\n                                </div>                                  \n                              </form>\n                            )\n                          : <span className=\"waver_wrapper\">\n                              Owner does not put a price!\n                            </span> }\n                        </div>\n                      \n                    </div>\n                  : <ItemsNotFound /> }\n                </>\n              )}) : <MsgAlert\n                      title=\"No Items Listed for Sale\"\n                      text=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at dictum risus, non suscipit arcu. Quisque aliquam posuere tortor, sit amet convallis nunc in.\"\n                    /> : Array(8).fill().map((_i, key) => <PreloaderMintItem key={key} />) : <MsgAlert\n                                                                                              text=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at dictum risus, non suscipit arcu. Quisque aliquam posuere tortor, sit amet convallis nunc in.\"\n                                                                                              title=\"You Don't Own Any NFTs Yet!\" />}\n          </div>\n        </div>\n      </section>\n      <Footer />\n    </>\n  );\n}\n\nexport default MyAssetsContainer;"]},"metadata":{},"sourceType":"module"}